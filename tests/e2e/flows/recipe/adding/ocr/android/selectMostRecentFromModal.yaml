appId: "com.recipedia"
---
# Selects most recent image from Android gallery and app modal using counter
# Uses modalImageCounter to select the correct image from app modal
# TODO: Implement iOS version in ../iOS/selectMostRecentFromModal.yaml

- tapOn:
    id: "Modal::Gallery::RoundButton"
    label: "Open gallery for OCR"

- runFlow:
    file: selectFromGallery.yaml
    label: "Select from Android gallery and validate"

- tapOn:
    id: "Modal::List#${output.modalImageCounter}::SquareButton::Image"
    label: "Select picture ${output.modalImageCounter} from app modal"

- runFlow:
    file: validateWithoutCropping.yaml

- evalScript: ${output.modalImageCounter = output.modalImageCounter + 1}
