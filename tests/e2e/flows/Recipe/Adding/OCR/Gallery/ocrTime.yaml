appId: "com.recipedia"
---

- scrollUntilVisible:
    element:
      id: "RecipePreparation::OpenModal::RoundButton"
    direction: DOWN
    speed: 60

- runFlow:
    when:
      true: ${output.isTime == false}
    commands:
      - tapOn:
          id: "RecipeTime::ManuallyFill::RoundButton"
          label: "Tap on button to enter time manually"
      - tapOn:
          id: "RecipeTime::TextInput"
          label: "Tap on text input of the time to prepare"
      - inputText:
          text: "30"
          label: "Enter the time to prepare this recipe"
      - pressKey: "enter"

- runFlow:
    when:
      true: ${output.isTime == true}
    commands:
      - tapOn:
          id: "RecipeTime::OpenModal::RoundButton"
          label: "Tap on button to OCR time to prepare"
      - runFlow:
          when:
            true: ${output.isDescriptionToOCR == true && output.isTagsToOCR == true }
          commands:
            - tapOn:
                id: "Modal::List#4::SquareButton::Image"
                label: "Select preparation picture"
      - runFlow:
          when:
            true: ${(output.isDescriptionToOCR == true && output.isTagsToOCR == false) || (output.isDescriptionToOCR == false && output.isTagsToOCR == true) }
          commands:
            - tapOn:
                id: "Modal::List#3::SquareButton::Image"
                label: "Select preparation picture"
      - runFlow:
          when:
            true: ${output.isDescriptionToOCR == false && output.isTagsToOCR == false }
          commands:
            - tapOn:
                id: "Modal::List#2::SquareButton::Image"
                label: "Select preparation picture"
      - runFlow:
          file: ../android/validateWithoutCropping.yaml
          when:
            platform: Android
