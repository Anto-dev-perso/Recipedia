appId: "com.recipedia"
---
- launchApp:
    label: "Setup - Launch app"

- extendedWaitUntil:
    visible:
      id: "WelcomeScreen::SkipButton"
    timeout: 5000
    optional: true
    label: "Check if onboarding appears"

- runFlow:
    file: "handleAnr.yaml"
    label: "Handle ANR dialog if it appears during initialization"

- tapOn:
    id: "WelcomeScreen::SkipButton"
    label: "Skip onboarding"


- extendedWaitUntil:
    notVisible:
      id: "WelcomeScreen::LoadingOverlay"
    timeout: 30000
    label: "Wait for data to load"

- extendedWaitUntil:
    visible:
      id: "Home::RecipeRecommendation::random::Carousel::Card::0::Cover"
    timeout: 10000
    optional: true
    label: "Wait for the home screen to be rendered"

- runFlow:
    file: "handleAnr.yaml"
    label: "Handle ANR dialog if it appears during first home rendering"

- extendedWaitUntil:
    visible:
      id: "Home::RecipeRecommendation::random::Carousel::Card::0::Cover"
    timeout: 10000
    label: "Wait for app to be ready"
