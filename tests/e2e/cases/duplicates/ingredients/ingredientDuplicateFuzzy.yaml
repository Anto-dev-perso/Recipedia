appId: "com.recipedia"
---
- tapOn:
    id: "ExpandButton::RoundButton"
    label: "Expand FAB menu to access manual recipe creation"

- tapOn:
    id: "EditButton::RoundButton"
    label: "Open manual recipe creation"

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::AddButton::RoundButton"
    direction: DOWN
    speed: 60
    label: "Scroll to ingredients section"

- tapOn:
    id: "RecipeIngredients::AddButton::RoundButton"
    label: "Add ingredient to recipe"

- tapOn:
    id: "RecipeIngredients::TextRender::0::Dropdown::CustomTextInput"
    label: "Focus on ingredient name input"

- inputText:
    text: "Butte"
    label: "Enter fuzzy ingredient name (typo for Butters)"

- pressKey: "ENTER"

- runFlow:
    file: "../../../flows/recipe/ingredients/useFuzzyIngredient.yaml"
    label: "Use existing Butters ingredient"

- assertNotVisible:
    text: "Butte"
    label: "Verify typo ingredient not added to recipe"

- assertVisible:
    id: "RecipeIngredients::TextRender::0::Dropdown::CustomTextInput"
    text: "Butter"
    label: "Verify existing Butters ingredient added to recipe"

- tapOn:
    id: "RecipeIngredients::AddButton::RoundButton"
    label: "Add another ingredient to recipe"

- tapOn:
    id: "RecipeIngredients::TextRender::1::Dropdown::CustomTextInput"
    label: "Focus on second ingredient name input"

- inputText:
    text: "Butte"
    label: "Enter fuzzy ingredient name again (second attempt)"

- pressKey: "ENTER"

- runFlow:
    file: "../../../flows/recipe/ingredients/confirmAddNewIngredient.yaml"
    label: "Confirm adding fuzzy ingredient as new"

- assertVisible:
    text: "Butte"
    label: "Verify fuzzy ingredient name appears in recipe"

- tapOn:
    id: "BackButton::RoundButton"
    label: "Exit recipe creation without saving"

- tapOn:
    id: "ReduceButton::RoundButton"
    label: "Close the FAB buttons"

- runFlow:
    file: "../../../flows/parameters/ingredients/navigateToIngredientsSettings.yaml"
    label: "Navigate to Ingredients Settings"

- runFlow:
    file: "../../../flows/parameters/ingredients/deleteIngredientByName.yaml"
    env:
      INGREDIENT_NAME: "Butte"
      INGREDIENT_INDEX: "2"
    label: "Delete Butter ingredient"

- runFlow:
    file: "../../../flows/parameters/ingredients/returnToHome.yaml"
    label: "Return to Home screen"
