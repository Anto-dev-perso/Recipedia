appId: "com.recipedia"
---
- runFlow:
    file: "../../common/buttonsReadOnly.yaml"
    label: "Assert common ReadOnly buttons and image"

- runFlow:
    file: "../../common/titleReadOnly.yaml"
    env:
      TITLE: "Aiguillettes de poulet façon teriyaki avec des légumes poêlés & du riz basmati"
    label: "Assert recipe title"

- scrollUntilVisible:
    element:
      id: "RecipeDescription::Text"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipeDescription::Text"
    text: "La sauce teriyaki .*"
    label: "Description of the recipe is rendered"

- scrollUntilVisible:
    element:
      id: "RecipeTags::0::Chip"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipeTags::0::Chip"
    label: "First tag is rendered"

- assertVisible:
    text: "<650kcal"
    label: "First tag name is rendered"

- assertVisible:
    id: "RecipeTags::1::Chip"
    label: "Second tag is rendered"

- assertVisible:
    text: "Familial"
    label: "Second tag name is rendered"

- assertVisible:
    id: "RecipeTags::2::Chip"
    label: "Third tag is rendered"

- assertVisible:
    text: "Rapido"
    label: "Third tag name is rendered"

- scrollUntilVisible:
    element:
      text: "Ingredients (4 persons)"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    text: "Ingredients (4 persons)"
    label: "Ingredient section and persons is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::0::QuantityAndUnit"
    text: "140 g"
    label: "First ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::0::IngredientName"
    text: "Riz basmati"
    label: "First ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::1::QuantityAndUnit"
    text: "1 pièce"
    label: "Second ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::1::IngredientName"
    text: "Oignon jaune"
    label: "Second ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::2::QuantityAndUnit"
    text: "1 pièce"
    label: "Third ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::2::IngredientName"
    text: "Carot.*"
    label: "Third ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::3::QuantityAndUnit"
    text: "1 pièce"
    label: "Fourth ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::3::IngredientName"
    text: "Poire.*"
    label: "Fourth ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::4::QuantityAndUnit"
    text: "3g "
    label: "Fifth ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::4::IngredientName"
    text: "Ciboulette"
    label: "Fifth ingredient name is displayed"

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::TextRender::10::IngredientName"
    direction: DOWN
    speed: 60

- assertVisible:
    id: "RecipeIngredients::TextRender::5::QuantityAndUnit"
    text: "1 pièce"
    label: "Sixth ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::5::IngredientName"
    text: "Gousse d'ail"
    label: "Sixth ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::6::QuantityAndUnit"
    text: "2 cm"
    label: "Seventh ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::6::IngredientName"
    text: "Gingembre frais"
    label: "Seventh ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::7::QuantityAndUnit"
    text: "40 ml"
    label: "Eighth ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::7::IngredientName"
    text: "Sauce soj.*"
    label: "Eighth ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::8::QuantityAndUnit"
    text: "10 ml"
    label: "Ninth ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::8::IngredientName"
    text: "Huile de sésam.*"
    label: "Ninth ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::9::QuantityAndUnit"
    text: "2 pièce"
    label: "Tenth ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::9::IngredientName"
    text: "Filet de poulet"
    label: "Tenth ingredient name is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::10::QuantityAndUnit"
    text: "2 c.*"
    label: "Eleventh ingredient quantity is displayed"

- assertVisible:
    id: "RecipeIngredients::TextRender::10::IngredientName"
    text: "Gomas.*"
    label: "Eleventh ingredient name is displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::TextRender::0::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipeTime::Text"
    text: "Preparation (30 min)"
    label: "Preparation section and time are displayed"

- assertVisible:
    id: "RecipePreparation::TextRender::0::SectionTitle"
    text: "1) Cuire le riz"
    label: "First preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::TextRender::0::SectionParagraph"
    text: "[\\s\\S]+"
    label: "First preparation paragraph is displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::TextRender::1::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipePreparation::TextRender::1::SectionTitle"
    text: "2) Cuire les légumes"
    label: "Second preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::TextRender::1::SectionParagraph"
    text: "[\\s\\S]+"
    label: "Second preparation paragraph is displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::TextRender::2::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipePreparation::TextRender::2::SectionTitle"
    text: "3) Faire la sauce"
    label: "Third preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::TextRender::2::SectionParagraph"
    text: "[\\s\\S]+"
    label: "Third preparation paragraph is displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::TextRender::3::SectionParagraph"
    direction: DOWN
    speed: 60
    centerElement: true

- assertVisible:
    id: "RecipePreparation::TextRender::3::SectionTitle"
    text: "4) Finir et servir"
    label: "Fourth preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::TextRender::3::SectionParagraph"
    text: "[\\s\\S]+"
    label: "Fourth preparation paragraph is displayed"

- runFlow:
    file: "../../common/nutritionEmptyReadOnly.yaml"
    label: "Verify nutrition section is not displayed (OCR recipe)"
